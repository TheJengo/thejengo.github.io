{"data":{"markdownRemark":{"html":"<h1>15 Dakikada Selenium İle Testlenin<h1>\n<p>\nMerhabalar ben deniz Cengiz CEBECİ, stajda tanıştığım Selenium ile ilgili sizlere öğrendiklerimi aktarmaya çalışacak ve bunu yaparken aşağıdaki teknolojileri kullanıyor olacağım. Elimden geldiğinde güzel Türkçemize sahip çıkmaya çalışacağım, iyi okumalar.\nBaş Roller\n</p>\n<p align=\"center\">\n    \n  <a class=\"gatsby-resp-image-link\" href=\"/static/8db1f3974a98a3dbc0af13aad5ec4c80/c6e42/sums.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 29.624478442280942%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABMElEQVQY022Rb0vCUBjF/caBn0HQfNsroUBBtBflqxKa4FQK07ZMIvtLrUAXK2emTqfb/eW2ZgkeuNzn3uecw8N5IkIIPIi+AeNvv3Zd179nsxnGh8FwMGQ8nmDZ1pIY9ENdCO/tnYhv4DjMzyvM+59rpE6nw4WiUKpKJArbKM/qWr83eGRiviOs6erPNzSGNtVWD00fYds2hcLhcjqbZrOJdCKR3E2Q3Ev6grvbG8pyxa8PGnGeduJYZ3Vmb6/MdT0wNA2ThvpCt9vHWcyRZdkX7OfzxGIxctkc0a0oiqqg97pcta7RRw9I9xnM4hGjWo2v4jETVQ0MxeUplAo49bIXxmr8drtNKpUim82SzqTRNI1N+J9mkOF0irtYIJZZesFuCj2E13Nd8buEP164lB+rGrwsIQ0R6QAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"sums\" title=\"\" src=\"/static/8db1f3974a98a3dbc0af13aad5ec4c80/40fad/sums.png\" srcset=\"/static/8db1f3974a98a3dbc0af13aad5ec4c80/707e9/sums.png 148w,\n/static/8db1f3974a98a3dbc0af13aad5ec4c80/649e0/sums.png 295w,\n/static/8db1f3974a98a3dbc0af13aad5ec4c80/40fad/sums.png 590w,\n/static/8db1f3974a98a3dbc0af13aad5ec4c80/c6e42/sums.png 719w\" sizes=\"(max-width: 590px) 100vw, 590px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</p>\n<p>Selenium Test Framework Nedir?\nSelenium otomatize edilmiş bir şekilde web projelerinizi fonksiyonel olarak test edebileceğiniz bir Test Framework’ü olarak bilinir. Selenium ile Chrome’dan Internet Explorer’a kadar hemen hemen tüm tarayıcılar için ister tarayıcıların desteklediği uzantılar ile isterseniz masaüstü uygulaması ile isterseniz de sizin seçtiğiniz bir programlama dili ile kolayca sayfalarınızı veya herhangi bir internet sayfasını test edebilirsiniz. Peki nasıl mı?\nSelenium ile Nasıl Test Yapılır?\nBu yazıda sizler Selenium ile kod üzerinden yapacağımız bir örnek ile karşılaşacaksınız ve POM(Page Object Model) dediğimiz modelleme ile Selenium ile yazacağımız testleri Java ortamında JUnit Test Framework yardımıyla yazıyor olacağız.\nUzun lafın kısası ihtiyacımız olanlar aşağıdaki tablodadır.</p>\n<p>Adım adım Teste Doğru\nDriverları indirelim:</p>\n<p><a href=\"https://www.seleniumhq.org/download/\">https://www.seleniumhq.org/download/</a> sitesine girip,\nKısmından geliştirmek istediğiniz dile uygun paketleri indirerek devam edelim. Ben yukarıdaki ekran görüntüsünün üstünde yer alan Selenium Standalone Server 3.13.0 versiyonunu indirip kullanıyor olacağım.\nYok ise JUnit indirelim biz bu projemizde JUnit 4 kullanıyor olacağız.</p>\n<p><a href=\"https://github.com/junit-team/junit4/wiki/Download-and-Install\">https://github.com/junit-team/junit4/wiki/Download-and-Install</a> adresinden ilgili adımları takip edip indirebilir ve eclipse içinde bulunan plugins dosyası içine dahil edebilirsiniz.</p>\n<ol start=\"2\">\n<li>\n<p>Testlerinizin çalışmasını istediğiniz Tarayıcının sürücüsünü(driver) indirelim ve çalıştıralım bu projede Chrome ile çalışıyor olacağımız için <a href=\"http://chromedriver.chromium.org/downloads\">http://chromedriver.chromium.org/downloads</a> bu linkten ”Chrome_driver.exe” tarzında adı olan exe dosyasını sisteminize uygun olan versiyonunu indirmeniz yeterlidir.</p>\n</li>\n<li>\n<p>Şimdi yeni bir Java projesi oluşturalım.\nFile > New ProjectJava Project seçili bir halde Next diyoruz.\nFile > New Project > NextBuraya kadar farklı bi işlem yapmadık altı üstü Eclipse üzerinde yeni bir java projesi açtık. Şimdi olay buradan sonra başlıyor. Yukarıdaki ekrandan sonra Next tuşuna basınca karşımıza gelen ekranda ”Libraries” sekmesine giriyoruz ve Add Library deyip JUnit kütüphanesini projemize dahil ediyoruz.\nFile > New Project > Next > NextFile > New Project > Next > Next > Library > Add LibraryJUnit Library Versiyon SeçilmesiHer şey hazır olduğuna göre artık Finish deyip projemiz üzerinde çalışmaya başlayabiliriz.\nJUnit Library Versiyon Seçilmesi > FinishFinish dedikten sonra Eclipse size ”Bu kütüphane arayüzünüzde değişiklikler yapacaktır.” diye bir uyarı veriyor. Onayladıktan sonra projeniz Solution Ekranında tahmini bu şekilde başlayacaktır.\nJUnit SekmesiKırmızı daire içine alınan yer ise Eclipse’nin sizi uyardığı arayüzü bulunduran JUnit’e ait test sonuçlarını ve durumlarını izleyebildiğiniz ekrandır.\nSeçili olarak gördüğünüz lib dosyasını özel olarak kendimiz oluşturuyoruz yani projeniz açıldığı zaman çok büyük ihtimalle öyle bir dosyaya sahip olmayacaksınız. O yüzden projeye bir lib dosyası ekleyelim. Bu dosyanın içine de indirdiğimiz .jar dosyalarını atalım.\nSelenium KütüphanesiEklediğiniz dosyaları görmek için lib klasörü üzerine sağ klik -> Refresh yaparsanız dosyanız gelecektir.\nSelenium Üzerine Sağ Tık > Build Path > Add To Build Pathİşlemini yaptıktan sonra Selenium kütüphanesinide projenize dahil etmiş oldunuz. Dosyalarınız ve projenizin görüntüsü yaklaşık olarak şöyle olması beklenmektedir :\nYukarıdaki işlemler sonrasında oluşan Package Explorer GörüntüsüArtık istediğiniz gibi testlerinizi yazabilirsiniz nasıl mı?\nKolay Bir Başlangıç\nSelenium ve olayları anlamak adına basit bir başlangıç yapalım ve TestMain adında Main fonksiyonu bulunduran bir sınıf oluşturalım.\nMain metodumuzun hemen üstüne WebDriver’ımızı, ChromeDriver’ımızı ve onun exe pathini ve Driver’ımızı bekletmemizi sağlayacak Wait alanlarımızı tanımlayalım :\nTestMain.java</p>\n<hr>\n<p>package basics;\nimport java.io.File;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriverService;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\npublic class TestMain {\n// İndirdiğimiz Chrome<em>driver.exe’nizin dizini\nprotected static String ChromePath = “C:\\Users\\User\\Downloads\\WebDrivers\\Chrome\\chromedriver</em>win32\\chromedriver.exe”;\n// Chrome Sürücülerinize ulaşmanızı sağlayan servis\nprotected static ChromeDriverService service;\n// Asıl sürücünüz ve Selenium size sağladığı en büyük nimet\n// olan bulunduğunuz internet sayfasındaki\n// elemanara(elementlere) ulaştığınız ve taracıyı\n// kontrol ettiğiniz arkadaş\nprotected static WebDriver driver;\n// Sizin için sürücünüzü bekletecek özellik(opsiyonel)\nprotected static WebDriverWait wait;\n// Main fonksiyonumuz\npublic static void main(String[] args) {\n}\n}\n}</p>\n<hr>\n<p>Bu noktadan sonra Main metodu içinde bu değişkenleri kullanmadan önce onların kurulumlarını yapacağımız bir Setup() metodu oluşturup ilk atamalarını gerçekleştirelim.\npublic static void Setup(){\n// Chrome_driver.exe dizininden servisi oluştur ve başlat\nservice = new ChromeDriverService.Builder().\nusingDriverExecutable(new File(ChromePath)).\nusingAnyFreePort().\nbuild();\ntry {\nservice.start();\n} catch (Exception e) {\ne.printStackTrace();\n}</p>\n<p> System.setProperty(“webdriver.chrome.driver”, ChromePath);\n// Driver nesnesini service bilgilerini kullanarak oluştur\ndriver = new\nRemoteWebDriver(service.getUrl(),DesiredCapabilities.chrome());\n// Bütün tarayıcıyı açarken 15ms bekletir\nwait = new WebDriverWait(driver,15);\n// Penceri Büyüt\ndriver.manage().window().maximize();\n}\nBu metot TestMain.java dosyasının içerisinde bulunup main fonksiyonun altında yer alacaktır.\nOrtada bir Setup var bir şeyleri başlatıyoruz iyi hoş birde bu servisleri ve sürücüleri işlerimizi bitirdiğimiz zaman kapatmak için bir Stop() metodu da yazalım madem tam olsun.\npublic static void Stop(){\n// Tarayıcıdan çıkış yapar\ndriver.quit();\n// Servisi Durdurur\nservice.stop();\n}\nSıra artık Main fonksiyonumuz içerisinde driver ile chrome üzerinde arama yaparak başlayalım devamında sonuçlardan sayfalara erişip değerler almakla veya basit aksiyonlarla ilgili olacaktır.\nGoogle üzerinde arama yapmak:\nMain metodumuzu aşağıdaki şekilde doldururusak Chrome’un otomatik olarak açılıp ilgili alanlara ilgili işlemleri yaptığını göreceksiniz .\npublic static void main(String[]   args) {\n// Tarayıcı ve servisi başlatır\nSetup();\n// Google   sayfasını Açar\ndriver.get(”<a href=\"https://www.google.com/%22\">https://www.google.com/”</a>);\n// Arama kutusunun bilgilerini getirir ve bunu yaparken\n// “id”sini kullanarak erişir\nWebElement txtSearch = driver.findElement(By.id(“lst-ib”));\n// Ara   butonuna “name” özelliği üzerinden erişir\nWebElement btnSearch = driver.findElement(By.name(“btnK”));\n// Arama   kutusuna aranacak değerleri gönder<br>\ntxtSearch.sendKeys(“instagram thejengo”);\n// Arama Butonuna bas\nbtnSearch.click();\n// Veya Enter tuşuna   bas\n// txtSearch.sendKeys(Keys.ENTER);\n// Tarayıcı ve servisi durdurur<br>\nStop();\n}\nBy.id , By.name, By.cssSelector gibi seçiciler diğer elementlere ulaşma tiplerine nazaran Selenium alt yapısında çok iyi hazırlandıkları ve köklü oldukları için daha hızlı yanıt verirler. Hatta bazen o kadar hızlı yanıt verirler ki sonraki adıma geçilene kadar bazı aksiyonlar ve animasyonlar gerçekleştiği için sayfada elementlerin değiştiği durumlarda bu durumları ”handle” edemezler. Bu tarz sorunlarda Seleniumun hızını kesmek için tabiri caizse ayağına ”Thread.sleep(500) ; (1000,2000)” gibi satırlarla taş bağlarız ki adımları atlamasın ya da sorun çıkmasın diye.\nGoogledan ulaşılan sayfa hakkında bilgi edinmek ve JUnit ile test etmek:\nŞimdi işleri biraz daha ilginçleştirelim butonu şimdilik devreden çıkaralım normal bir insanmışcasına ”Enter” tuşu ile arama yaptırıp çıkan sonuçlardan birisini seçip devam edelim ve girdiğimiz sayfanın linki ile olmasını istediğimiz linki JUnit kullanarak karşılaştıralım.\npublic static void main(String[]   args) {\n// Tarayıcı ve servisi başlatır\nSetup();\n// Google   sayfasını Açar\ndriver.get(”<a href=\"https://www.google.com/%22\">https://www.google.com/”</a>);\n// Arama kutusunun bilgilerini getirir ve bunu yaparken\n// “id”sini kullanarak erişir\nWebElement txtSearch = driver.findElement(By.id(“lst-ib”));\n// Ara   butonuna “name” özelliği üzerinden erişir\nWebElement btnSearch = driver.findElement(By.name(“btnK”));\n// Arama   kutusuna aranacak değerleri gönder<br>\ntxtSearch.sendKeys(“instagram thejengo”);\n// Arama Butonuna bas\nbtnSearch.click();\n// Veya Enter tuşuna   bas\ntxtSearch.sendKeys(Keys.ENTER);\n// Arama sonuç listesi içindeki başlıkları getir\nList<WebElement> resultTitles =<br>\ndriver.findElements(By.className(“r”));\n// Başlıklardan istenilene tıkla\nresultTitles.get(0).click();\n// Driver’ın yönlendiği adresi getir ve eldeki address ile\n// aynı olup olmadığını JUnit kütüphanesindeki varsayım\n// metoduyla kontrol et/test etme işlemini yapar<br>\nassertEquals(\ndriver.agetCurrtenUrl(),\n”<a href=\"https://www.instagram.com/thejengo/%22\">https://www.instagram.com/thejengo/”</a>);\n// Tarayıcı ve servisi durdurur<br>\nStop();\n}\nİşte gördüğünüz gibi Selenium ve JUnit ile test yapmak Chrome, IE, Firefox gibi tarayıcılarda web projelerinizi ve fonksiyonel yönlerini kontrol etmek işte bu kadar basit buradan sonrası sizlerin yaratıcılığına kalıyor, ihtiyaçlarına kalıyor. Son olarak TestMain.java dosyamız aşağıdaki gibi gözükmektedir.</p>\n<hr>\n<p>package basics;\nimport java.io.File;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriverService;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\npublic class TestMain {\n// İndirdiğimiz Chrome<em>driver.exe’nizin dizini\nprotected static String ChromePath = “C:\\Users\\User\\Downloads\\WebDrivers\\Chrome\\chromedriver</em>win32\\chromedriver.exe”;\n// Chrome Sürücülerinize ulaşmanızı sağlayan servis\nprotected static ChromeDriverService service;\n// Asıl sürücünüz ve Selenium size sağladığı en büyük nimet\n// olan bulunduğunuz internet sayfasındaki\n// elemanara(elementlere) ulaştığınız ve taracıyı\n// kontrol ettiğiniz arkadaş\nprotected static WebDriver driver;\n// Sizin için sürücünüzü bekletecek özellik(opsiyonel)\nprotected static WebDriverWait wait;</p>\n</li>\n</ol>\n<p>public static void main(String[]   args) {\n// Tarayıcı ve servisi başlatır\nSetup();\n// Google   sayfasını Açar\ndriver.get(”<a href=\"https://www.google.com/%22\">https://www.google.com/”</a>);\n// Arama kutusunun bilgilerini getirir ve bunu yaparken\n// “id”sini kullanarak erişir\nWebElement txtSearch = driver.findElement(By.id(“lst-ib”));\n// Ara   butonuna “name” özelliği üzerinden erişir\nWebElement btnSearch = driver.findElement(By.name(“btnK”));\n// Arama   kutusuna aranacak değerleri gönder<br>\ntxtSearch.sendKeys(“instagram thejengo”);\n// Arama Butonuna bas\nbtnSearch.click();\n// Veya Enter tuşuna   bas\ntxtSearch.sendKeys(Keys.ENTER);\n// Arama sonuç listesi içindeki başlıkları getir\nList<WebElement> resultTitles =<br>\ndriver.findElements(By.className(“r”));\n// Başlıklardan istenilene tıkla\nresultTitles.get(0).click();\n// Driver’ın yönlendiği adresi getir ve eldeki address ile\n// aynı olup olmadığını JUnit kütüphanesindeki varsayım\n// metoduyla kontrol et/test etme işlemini yapar<br>\nassertEquals(\ndriver.agetCurrtenUrl(),\n”<a href=\"https://www.instagram.com/thejengo/%22\">https://www.instagram.com/thejengo/”</a>);\n// Tarayıcı ve servisi durdurur<br>\nStop();\n}\npublic static void Setup(){\n// Chrome_driver.exe dizininden servisi oluştur ve başlat\nservice = new ChromeDriverService.Builder().\nusingDriverExecutable(new File(ChromePath)).\nusingAnyFreePort().\nbuild();\ntry {\nservice.start();\n} catch (Exception e) {\ne.printStackTrace();\n}\n<br>\nSystem.setProperty(“webdriver.chrome.driver”, ChromePath);\n// Driver nesnesini service bilgilerini kullanarak oluştur\ndriver = new\nRemoteWebDriver(service.getUrl(),DesiredCapabilities.chrome());\n// Bütün tarayıcıyı açarken 15ms bekletir\nwait = new WebDriverWait(driver,15);\n// Penceri Büyüt\ndriver.manage().window().maximize();\n}\npublic static void Stop(){\n// Tarayıcıdan çıkış yapar\ndriver.quit();\n// Servisi Durdurur\nservice.stop();\n}\n}</p>\n<hr>\n<p>Bu kadarcık işlem sonucunda test simülasyonumuz aşağıdaki gibi olması beklenmetedir.\nOtomatize Edilmiş Test SimülasyonuPOM(Project Object Model) ile Test Etmek\nAslına bakarsanız yukarıda yaptıklarımızdan hiç bir farkı yok ve olayın tek farkı işleri daha nesneye yönelik (Object Oriented) bir hale getirip hem kodun okunabilirliğini hem de JUnit tarafında daha kontrol edilebilir bir hale getirmektir.\nPeki nasıl?\nÖncelikle sayfalarınız ve testleriniz için ayrı birer package oluşturalım.\nEldeki Package Explorer GörüntüsüPages Paketi\nBu paket içerisinde sayfalarımız ve sayfalarımızda bulunan Elementlere ulaştığımız sayfalara ait spesifik elementlerin tanımları ve fonksiyonel olarak gerçekleştirilecek işlemlere ait metotlar bulunur. Bu metotlara yardımcı olması ve kolaylaştırması için PageBase adında abstract bir super sınıf bulunmaktadır.\nPageBase Abstract Sınıfı Static UML SInıf GösterimiPageBase.java</p>\n<hr>\n<p>package pages;\nimport java.util.List;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.ui.WebDriverWait;\npublic abstract class PageBase {\npublic WebDriver driver;\npublic WebDriverWait wait;\n//Constructor\npublic PageBase (WebDriver driver, WebDriverWait wait){\nthis.driver = driver;\nthis.wait = wait;\n}\n//Click Method\npublic void click (By elementLocation) {\ndriver.findElement(elementLocation).click();\n}\n//Write Text\npublic void writeText (By elementLocation, String text) {\ndriver.findElement(elementLocation).clear();\ndriver.findElement(elementLocation).sendKeys(text);\n}\n//Read Text\npublic String readText (By elementLocation) {\nreturn driver.findElement(elementLocation).getText();\n}\n//Get List Of Elements\npublic List<WebElement> getElements(By elementLocation){\nreturn driver.findElements(elementLocation);\n}\n//Get Element\npublic WebElement getElement(By elementLocation){\nreturn driver.findElement(elementLocation);\n}\n}</p>\n<hr>\n<p>PageBase sınıfımızı tanımladıktan sonra şimdi basit bir şekilde ana sayfa ve giriş sayfalarımızda test etmek istediğimiz fonksiyonları bulunduran ve PageBase sınıfını kalıtan iki sınıf daha oluşturalım.\nHomePage sınıfı:\nHomePage.java\n--------------------------------------------------------------------package pages;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\npublic class HomePage extends PageBase{\n// Consturctor\npublic HomePage(WebDriver driver, WebDriverWait wait) {\nsuper(driver,   wait);\ndriver.get(”<a href=\"https://www.google.com/%22\">https://www.google.com/”</a>);\n}\n// WebElements\npublic String btnMenuApps = “gbwa”; //   id\npublic String btnMenuMaps = “gb8”; //   id\npublic String btnMenuLogIn = “gb_70”; //   id\n// This method will use in test class\npublic String checkMenuLinks(String button){\nclick(By.id(button));\nreturn driver.getCurrentUrl();\n}\n}</p>\n<hr>\n<p>LoginPage sınıfı:\nLoginPage.java</p>\n<hr>\n<p>package pages;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\npublic class LoginPage extends PageBase {\n// Constructor\npublic LoginPage(WebDriver driver, WebDriverWait wait) {\nsuper(driver,   wait);\n}\n// WebElements\npublic String txtMail = “identifierId”; //   id\npublic String txtPassword = “password”; //   name\npublic String btnNext = “CwaK9”; //   className\npublic boolean verifyUsernameAndPassword(String username, String password) throws InterruptedException {\n// Write Email to textbox\nwriteText(By.id(txtMail),username);\n// Click Next\nclick(By.className(btnNext));\n// Sleep a little bit for page load\nThread.sleep(500);\n// Check loaded page url\nif(driver.getCurrentUrl().contains(“pwd”)){\n// Write password\nwriteText(By.name(txtPassword),password);\n<br>\n// Sleep a little bit for page load\nThread.sleep(600);\n// return does last url have signinoptions\nreturn driver.getCurrentUrl().contains(“signinoptions”);\n}else{\nreturn false;\n}\n}\n}</p>\n<hr>\n<p>Tüm bunlardan sonra Pages paketinizin tahmini aşağıdaki diyagramdaki gibi bir görüntüsü olacaktır. Diğer sayfalarınızı da aynı şekilde PageBase sınıfından kalıtarak ve düzenleyerek oluşturabilir ve kolayca kullanabilirsiniz.\nPages Paketi içerisindeki sınıfların ilişkilerinin gösterildiği UML DiyagramıTests Paketi\nTest paketi içerisinde sayfalarını ve metotlarını oluşturmuş olduğumuz sınıflarımızı JUnit kütüphanesi ve “Annotations” yardımı ile sınıfımızı oluşturuyoruz ve bu sınıfları daha sonra Run As > JUnit şeklinde çalıştırıp test çıktılarımızı alıyor olacağız.\nTestBase sınıfı bir önceki örnek olan Kolay Bir Başlangıç’ta Main sınıfı içerisinde ayaklandırdığımız Setup() ve Stop() metotlarının yeniden kullanılabilir hale getirilmiş versiyonu denebilir.\nTestBase Abstract Sınıfı Static UML SInıf GösterimiTestBase.java</p>\n<hr>\n<p>package basics;\nimport java.io.File;\nimport org.junit.AfterClass;\nimport org.junit.BeforeClass;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriverService;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\nimport org.openqa.selenium.support.ui.WebDriverWait;\npublic abstract class TestBase {\n// İndirdiğimiz Chrome<em>driver.exe’nizin dizini\nprotected static String ChromePath = “C:\\Users\\User\\Downloads\\WebDrivers\\Chrome\\chromedriver</em>win32\\chromedriver.exe”;\n// Chrome Sürücülerinize ulaşmanızı sağlayan servis\nprotected static ChromeDriverService service;\n// Asıl sürücünüz ve Selenium size sağladığı en büyük nimet\n// olan bulunduğunuz internet sayfasındaki\n// elemanara(elementlere) ulaştığınız ve taracıyı kontrol\n// ettiğiniz arkadaş\nprotected static WebDriver driver;\n// Sizin için sürücünüzü bekletecek özellik(opsiyonel)\nprotected static WebDriverWait wait;\n// Main fonksiyonumuz\npublic void TestBase(){\n}\n@BeforeClass\npublic static void Setup(){\n// Chrome_driver.exe dizininden servisi oluştur ve başlat\nservice = new ChromeDriverService.Builder().\nusingDriverExecutable(new File(ChromePath)).\nusingAnyFreePort().\nbuild();\ntry {\nservice.start();\n} catch (Exception e) {\ne.printStackTrace();\n}\nSystem.setProperty(“webdriver.chrome.driver”, ChromePath);\n// Driver nesnesini service bilgilerini kullanarak<br>\n// oluştur\ndriver = new  RemoteWebDriver(service.getUrl(),DesiredCapabilities.chrome());\n// Bütün sayfaları açarken 15ms bekle\nwait = new WebDriverWait(driver,15);\n// Penceri Büyüt\ndriver.manage().window().maximize();\n}\n@AfterClass\npublic static void Stop(){\n// Tarayıcıdan çıkış yapar\ndriver.quit();\n// Servisi Durdurur\nservice.stop();\n}\n}</p>\n<hr>\n<p>HomeTest sınıfımızı hazırlarken @Test annotation’ı ile test metotlarımızı oluşturuyoruz bu metotlar void olmak zorundadır.\nHomeTest.java\n--------------------------------------------------------------------package tests;\nimport static org.junit.Assert.*;\nimport org.junit.Test;\nimport pages.HomePage;\npublic class HomeTest extends TestBase{\n@Test\npublic void   valid<em>checkMenuLinks() throws   InterruptedException{\n// AnaSayfa sınıfının instance’ı oluşturulur\nHomePage home = new HomePage(driver,wait);\n// 1. parametrede gelen değerin 2. değer ile aynı olduğunu\n// ileri sürüyoruz\nassertEquals(home.checkMenuLinks(home.btnMenuApps),\n”<a href=\"https://www.google.com/%22\">https://www.google.com/”</a>);\n// 1. parametrede açılan linkte bazı sabit ifadelerin\n// olduğunu ileri sürüyoruz ve var olmasını bekliyoruz\nassertEquals(home.checkMenuLinks(home.btnMenuLogIn).<br>\ncontains(”<a href=\"https://accounts.google.com/signin/v2/identifier%22\">https://accounts.google.com/signin/v2/identifier”</a>,\ntrue);\n// google maps’e gittiğini ileri sürüyoruz\nassertEquals(home.checkMenuLinks(home.btnMenuMaps)\n”<a href=\"https://www.google.fr/maps?hl=en&#x26;tab=wl%22\">https://www.google.fr/maps?hl=en&#x26;tab=wl”</a>);\n}\n@Test\npublic void   invalid</em>checkMenuLinks() throws   InterruptedException {\n// AnaSayfa sınıfının instance’ı oluşturulur\nHomePage home = new HomePage(driver,wait);\n// 1. parametrede gelen değerin 2. değer ile aynı\n// olmadığını ileri sürüyoruz\nassertNotEquals(home.checkMenuLinks(home.btnMenuApps),\n”<a href=\"https://www.google.com/123%22\">https://www.google.com/123”</a>);\n// 1. parametrede gelen değerin 2. değer ile aynı\n// olmadığını ileri sürüyoruz\nassertNotEquals(home.checkMenuLinks(home.btnMenuLogIn),\n“testLink.com”);\n// 1. parametrede gelen değerin 2. değer ile aynı\n// olmadığını ileri sürüyoruz\nassertNotEquals(home.checkMenuLinks(home.btnMenuMaps),\n“test”);\n}\n}</p>\n<hr>\n<p>invalid<em>checkMenuLinks() metodu içerisinde 2. parametre değerine kasti olarak geçersiz ve alakasız değerler gönderdik.\nLoginTest.java\n--------------------------------------------------------------------package tests;\nimport static org.junit.Assert.*;\nimport org.junit.Test;\nimport org.openqa.selenium.By;\nimport pages.HomePage;\nimport pages.LoginPage;\npublic class LoginTest extends TestBase {\n@Test\npublic void valid</em>UsernameAndPassword()throws   InterruptedException {\n// Tüketilecek sayfaların nesnelerinin oluşturulması\nHomePage home = new   HomePage(driver,wait);\nLoginPage login = new   LoginPage(driver,wait);\n// AnaSayfadaki Giriş Yap butonuna tıklanır\nhome.click(By.id(home.btnMenuLogIn));\n// gönderilen parametreler ile yapılan giriş işleminin\n// başarılı olduğunu ileri sürüyoruz ve test ediyoruz\nassertEquals(\nlogin.verifyUsernameAndPassword(“thejengo0o@gmail.com”,\n“successPasword”),true);\n}\n@Test\npublic void invalid<em>UsernameAndPassword()throws   InterruptedException {\n// Tüketilecek sayfaların nesnelerinin oluşturulması\nHomePage home = new   HomePage(driver,wait);\nLoginPage login = new   LoginPage(driver,wait);\n// AnaSayfadaki Giriş Yap butonuna tıklanır<br>\nhome.click(By.id(home.btnMenuLogIn));\n// gönderilen parametreler ile yapılan giriş işleminin\n// başarısız olduğunu ileri sürüyoruz ve test ediyoruz\nassertEquals(<br>\nlogin.verifyUsernameAndPassword(“thejengo0o@gmail.com”,\n“failPassword”),false);\n}\n@Test\npublic void   empty</em>UsernameAndPassword()throws   InterruptedException {\n// Tüketilecek sayfaların nesnelerinin oluşturulması\nHomePage home = new   HomePage(driver,wait);\nLoginPage login = new   LoginPage(driver,wait);\n// AnaSayfadaki Giriş Yap butonuna tıklanır\nhome.click(By.id(home.btnMenuLogIn));\n// gönderilen boş parametreler ile yapılan giriş işleminin\n// başarısız olduğunu ileri sürüyoruz ve test ediyoruz\nassertEquals(login.verifyUsernameAndPassword(\"\",\"\"),\nfalse);\n}\n}</p>\n<hr>\n<p>Test paketi için Oluşması beklenen sınıf diyagramı:\nTests paketi içerisindeki sınıfların ilişkilerinin gösterildiği UML DiyagramıTüm diyagram ise aşağıdaki gibi olur:\nPages ve Tests paketleri ve sınıfları arasındaki ilişkileri paket seviyesinde soyutlayarak gösteren UML DiyagramıTest Sonuçları\nYazdığımız onda koddan ve sayfalar üzerinde “name,id,className” vs. aradıktan sonra sıra projemizin üzerine sağ tık yapıp Run As > JUnit Test diyerek testlerimizi başlatabiliriz.\nTest Sonuçlarının Başarılı olması,\nKorkmayın yine otomatik olarak Chrome açılacak ve sizin yerinize bir sürü test yapacak. Hepsi bittiği zaman Eclipse üzerinde JUnit penceresinde aşağıdaki gibi bir ekran size bekliyor olacaktır.\nJUnit Test Sonuçları EkranıGeçmiş olsun testlerimizi başarıyla tamamlamış bulunuyoruz hepsi inanın bu kadar kolay ve güzel.\nTest Sonuçlarının Başarısız olması,\nJUnit Test Sonuçları Ekranı ve Failure Trace EkranıTest sonuçlarının başarısız olması durumunda yukarıdaki görüntüde değişiklik olarak başarısız olan test üzerinde “Error” ibaresi bulunuyor olacaktır ve JUnit sekmesi altında yer alan “Failure Trace” üzerinden başarısız olan veya hata meydana gelen testlerinizin “Root cause”larına ulaşabiliyor olacaksınız.\nKarşılaşılan genel hatalara naçizane öneriler ve ipuçları\nEn sık karşılaşılan hata durumu WebElement’lerinin sayfa içinde bulunamaması ya da erişiliememesi. Bunun sebebi genellikle “xpath, cssSelector” gibi By sınıfı üzerinden gönderilen ifadelerin tarayıcıdan tarayıcıya ya da yeni elementler eklenmesi durumlarında değişmeleri. Sürekli güncelleme ve bakım gerektirecektir. Bu seçiciler yerine “name, id, cssClassName” gibi daha sabit ve oturaklı seçicileri kullanmanızı tavsiye ederim.\nassertEquals() metodunu kullanırken elinizden geldiğince primitive(ilkel) tipler ile kullanmaya çalışın. Sizin açınızdan da sizden sonra kodu okuyacak olanlar açısından da kodu takip etmesi kolaylaşır.\nassertEquals() içine gönderdiğiniz parametreleri doğru hesaplayın.\nUnReachableRemoteException adında bir hata var bu hata genellikle test simülasyonu çalışırken simülasyon ortamını/tarayıcısını kapattığınız da veya test sonucunda service ve driver nesnelerinin doğru şekilde sonlandırılmadığı zamanlarda çıkar. Benim çok canımı sıkan bir hataydı.\nAlert gibi Select gibi farklı çıktılara erişirken sistem çok hızlı çalıştığı için sistemi Thread.sleep(300–500) gibi komutlarla yavaşlatıp alertleri ve selectleri doğru bir şekilde yakalamak.\nGET / POST gibi HTTP istekleri yaparken yine yukarıdaki gibi Thread.sleep(2000) gibi değerler kullanıp sistem cevap verdikten sonra simülasyonu devam ettirmek. Yoksa 1. maddedeki hatalarla karşılaşmamanız işten bile değil.\nFail olan testlerinizin neden fail olduğunu güzelce incelemek Failure Trace’i iyi okumak yetersiz bulunursa “Errors, Problems, Console” sekmelerinden hataları takip etmek gerekirse bol bol googlelamak.\nPOM’u iyi anlamak ve uygulamak.\nKütüphaneleri doğru tanımladığımızdan ve Build Path’e eklediğimizden emin olmak.\nSakin, sabırlı ve yapıcı olmak :) (Faydası büyük)</p>\n<hr>\n<p>TestNG\nTestlerinizi daha kusursuz ve düzenli geliştirmek isterseniz kullanabileceğiniz yardımcı kütüphanedir. Testlerinizi önceliklendirebilir, geliştirebilir ve daha düzgün çıktılar ile hata raporlarını gözleyebilirsiniz. Şu an için yukarıdakiler yeterli olacaktır. Merak edenler için <a href=\"https://testng.org/doc/index.html\">https://testng.org/doc/index.html</a> adresinden daha detaylı bilgilere ulaşabilirler.</p>\n<hr>\n<p>Özet\nUzun lafın kısası olarak yukarıdakilerin hepsini özetlemeye çalışırsak,</p>\n<ol>\n<li>Kurulum ilgili dosyaların indirilmesi kurulması</li>\n<li>Java projesinin oluşturulması ve indirilen dosyaların enjektesi</li>\n<li>İsterseniz direkt bir main dosyası içinde küçük deneyler için</li>\n<li>İsterseniz büyük ve detaylı siteleriniz içim POM ile nesneye yönelik ve esnek bir yapı ile testlerinizi kontrol etmek</li>\n<li>Testi çalıştırma hataları ve takip etme</li>\n<li>İpuçları ve Püf noktalarına dikkat etme</li>\n<li>Daha fazla ve detaylı testler için TestNG\nÖzeti de yaptığımıza göre yazının sonuna gelmiş bulunduk, biraz uzunda olsa umarım hepiniz sıkılmadan eminim okudunuz, buralara kadar direkt gelmediğinizi tahmin ediyor ve\nİyi günler ve çalışmalar dilerim :)\nT E S T L E N D İ N İ Z !</li>\n</ol>","frontmatter":{"title":"My third post"}}},"pageContext":{"pathSlug":"/third-post","prev":{"frontmatter":{"path":"/second-post","title":"My second post","tags":["shit","chat"]}},"next":null}}